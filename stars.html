<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="stars.css">
</head>
<body>
    <p>Get data via DOM input</p>
    <div id="stars" class="star-container"></div>
    <div>
        <input type="range" min="0" max="10" step="0.01" id="rangeselect">
    </div>
    <p>Get data via fetch</p>
    <div id="stars2" class="star-container"></div>
    <div>
        <button id="requestButton" style="margin-top:5px;">fetch</button>
    </div>
    <p>Custom stars</p>
    <div id="stars3" class="star-container"></div>
    <p>Selectable value</p>
    <div id="stars4" class="star-container"></div>

    <script src="stars.js"></script>
    <script defer>
        /* Usage */

        const config = new StarConfig();

        // DOM input
        document.getElementById('rangeselect').addEventListener('input', function (e) {
            const theStars = new StarContainer(document.getElementById('stars'), config);
            theStars.render(new StarData (e.target.value, 10));
        });

        // JSON response
        document.getElementById('requestButton').addEventListener('click', function (e) {
            fetch('./stars.json')
                .then(response => response.json())
                .then(data => {
                    const theStars = new StarContainer(document.getElementById('stars2'), config);
                    theStars.render(data);
                });
        });

        // custom stars
        const customConfig = new StarConfig(
            30,
            30,
            'gold',
            'red',
            'polygon',
            '10,1.5 8.5,0 5,3.5 1.5,0 0,1.5 3.5,5 0,8.5 1.5,10 5,6.5 8.5,10 10,8.5 6.5,5'
        );
        const customStars = new StarContainer(document.getElementById('stars3'), customConfig);
        customStars.render(new StarData (2.62, 6));

        // Selectable value
        const customConfig2 = new StarConfig(
            30,
            30,
            'pink',
            'blue',
            'path',
            'M9.1,1.3C8,0.1,6.1,0.1,5,1.3c-1.1-1.1-3-1.1-4.1,0c-1.1,1.1-1.1,3,0,4.1L5,9.6l4.1-4.1, C10.3,4.3,10.3,2.4,9.1,1.3z'
        );
        const customStars2 = new StarContainer(document.getElementById('stars4'), customConfig2);
        customStars2.render(new StarData (3, 6));
        document.getElementById('stars4').addEventListener('click', function(e) {
            if (e.target.dataset.index == null || e.target.dataset.index == undefined)
                return;
            customStars2.render(new StarData (parseInt(e.target.dataset.index) + 1, 6));
        });
    </script>
</body>
</html>